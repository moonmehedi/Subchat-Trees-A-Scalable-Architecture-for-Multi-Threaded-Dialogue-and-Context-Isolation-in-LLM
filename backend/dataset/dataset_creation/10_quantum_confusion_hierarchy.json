{
    "scenario_name": "Quantum Confusion: Hierarchical Follow-up Isolation",
    "description": "A long, mixed-topic conversation designed to cause confusion, forgetting, and context pollution in linear chat. Uses selected_text follow-ups to isolate context in subchats. This covers quantum computing with nested subtopics and multiple name-ambiguity traps (Python, Java, Go, Apple, Jaguar).",
    "conversations": [
        {
            "step": 1,
            "context": "quantum",
            "message": "Explain Quantum Computing in 10 steps.",
            "expected": "High-level breakdown of QC (qubits, superposition, entanglement, gates, circuits, measurement, decoherence, algorithms, error correction, hardware platforms).",
            "node_type": "main",
            "action": ""
        },
        {
            "step": 2,
            "context": "linear algebra",
            "message": "Start with linear algebra foundations used in quantum computing.",
            "expected": "Vectors, complex amplitudes, inner products, unitary matrices, eigenvectors/eigenvalues.",
            "node_type": "subchat_1",
            "action": "create_subchat",
            "subchat_title": "QC — Linear Algebra",
            "selected_text": "linear algebra"
        },
        {
            "step": 3,
            "context": "calculus",
            "message": "Explain how calculus shows up in quantum algorithms and physics models.",
            "expected": "Differential equations in Schrödinger’s equation, continuous time, gradients in variational algorithms.",
            "node_type": "subchat_2",
            "action": "create_subchat",
            "subchat_title": "QC — Calculus",
            "selected_text": "calculus"
        },
        {
            "step": 4,
            "context": "graph theory",
            "message": "Where does graph theory fit in quantum algorithms?",
            "expected": "Graph problems (max cut), mapping circuits to hardware graphs, connectivity constraints.",
            "node_type": "subchat_3",
            "action": "create_subchat",
            "subchat_title": "QC — Graph Theory",
            "selected_text": "graph theory"
        },
        {
            "step": 5,
            "context": "physics",
            "message": "Summarize the physics of qubits: superposition, entanglement, measurement.",
            "expected": "Physical interpretation and trade-offs, decoherence, noise sources.",
            "node_type": "subchat_4",
            "action": "create_subchat",
            "subchat_title": "QC — Physics",
            "selected_text": "physics"
        },
        {
            "step": 6,
            "context": "programming",
            "message": "What is Python used for in quantum computing pipelines?",
            "expected": "SDKs (Qiskit, PennyLane, Cirq), orchestration, visualization, data pipelines.",
            "node_type": "main",
            "action": ""
        },
        {
            "step": 7,
            "context": "snake",
            "message": "Is the Python snake dangerous for researchers?",
            "expected": "Discuss reptile safety (non-venomous constrictor), unrelated to programming.",
            "node_type": "subchat_5",
            "action": "create_subchat",
            "subchat_title": "Biology — Python Snake Safety",
            "selected_text": "snake"
        },
        {
            "step": 8,
            "context": "translation",
            "message": "Translate the term ‘qubit’ to Spanish and explain if a direct translation exists.",
            "expected": "Commonly kept as ‘qubit’; explain usage.",
            "node_type": "main",
            "action": ""
        },
        {
            "step": 9,
            "context": "qubits",
            "message": "Explain superposition vs entanglement with minimal math.",
            "expected": "Clear differentiation with intuitive examples.",
            "node_type": "subchat_6",
            "action": "create_subchat",
            "subchat_title": "QC — Qubits Concepts",
            "selected_text": "qubits"
        },
        {
            "step": 10,
            "context": "quantum supremacy",
            "message": "Define quantum supremacy and list key experiments.",
            "expected": "Google 2019, later debates; mention benchmarks.",
            "node_type": "subchat_7",
            "action": "create_subchat",
            "subchat_title": "QC — Quantum Supremacy",
            "selected_text": "quantum supremacy"
        },
        {
            "step": 11,
            "context": "hierarchy",
            "message": "What is meant by a ‘quantum hierarchy’ in complexity terms?",
            "expected": "Complexity classes, containment relations, open questions.",
            "node_type": "subchat_8",
            "action": "create_subchat",
            "subchat_title": "QC — Quantum Hierarchy",
            "selected_text": "hierarchy"
        },
        {
            "step": 12,
            "context": "programming",
            "message": "Compare Go and Rust for building quantum SDK tooling.",
            "expected": "Systems trade-offs; FFI with Python; concurrency vs safety.",
            "node_type": "main",
            "action": ""
        },
        {
            "step": 13,
            "context": "board game",
            "message": "Explain the rules and strategy of the board game Go.",
            "expected": "Rules, territory, ladders; unrelated to Golang.",
            "node_type": "subchat_9",
            "action": "create_subchat",
            "subchat_title": "Go — The Board Game",
            "selected_text": "Go"
        },
        {
            "step": 14,
            "context": "hardware",
            "message": "Compare Apple M-series vs Intel CPUs for QC simulations.",
            "expected": "Performance, vectorization, memory bandwidth; software compatibility.",
            "node_type": "main",
            "action": ""
        },
        {
            "step": 15,
            "context": "fruit",
            "message": "Is the apple fruit good for researchers’ health during late-night experiments?",
            "expected": "Nutrition facts; unrelated to Apple Inc.",
            "node_type": "subchat_10",
            "action": "create_subchat",
            "subchat_title": "Nutrition — Apple Fruit",
            "selected_text": "apple"
        },
        {
            "step": 16,
            "context": "programming",
            "message": "Contrast the Java memory model with Python’s GIL.",
            "expected": "Concurrency differences, threading semantics.",
            "node_type": "main",
            "action": ""
        },
        {
            "step": 17,
            "context": "island",
            "message": "What are the best places to visit on the island of Java?",
            "expected": "Travel tips; unrelated to the Java language.",
            "node_type": "subchat_11",
            "action": "create_subchat",
            "subchat_title": "Travel — Java Island",
            "selected_text": "Java"
        },
        {
            "step": 18,
            "context": "animals",
            "message": "How fast can a jaguar run in the wild?",
            "expected": "Animal speed; unrelated to car brand.",
            "node_type": "subchat_12",
            "action": "create_subchat",
            "subchat_title": "Biology — Jaguar Speed",
            "selected_text": "jaguar"
        },
        {
            "step": 19,
            "context": "automotive",
            "message": "Give a brief history of the Jaguar E‑Type.",
            "expected": "Automotive history; unrelated to the animal.",
            "node_type": "subchat_13",
            "action": "create_subchat",
            "subchat_title": "Automotive — Jaguar E‑Type",
            "selected_text": "Jaguar"
        },
        {
            "step": 20,
            "context": "quantum",
            "message": "Summarize gate vs measurement operations with one example each.",
            "expected": "Brief, focused QC explanation.",
            "node_type": "main",
            "action": ""
        },
        {
            "step": 21,
            "context": "programming",
            "message": "Show a tiny Python snippet to build a Bell state circuit with any QC SDK.",
            "expected": "Short code sample.",
            "node_type": "main",
            "action": ""
        },
        {
            "step": 22,
            "context": "physics",
            "message": "Explain decoherence vs relaxation in one paragraph.",
            "expected": "Clear difference with examples.",
            "node_type": "subchat_14",
            "action": "create_subchat",
            "subchat_title": "QC — Noise & Decoherence",
            "selected_text": "decoherence"
        },
        {
            "step": 23,
            "context": "translation",
            "message": "Translate ‘quantum entanglement’ to French and explain usage in francophone literature.",
            "expected": "Translation + short note.",
            "node_type": "main",
            "action": ""
        },
        {
            "step": 24,
            "context": "game",
            "message": "What is Go’s komi and why does it matter?",
            "expected": "Explain komi concept.",
            "node_type": "subchat_15",
            "action": "create_subchat",
            "subchat_title": "Go — Komi Concept",
            "selected_text": "komi"
        },
        {
            "step": 25,
            "context": "fruit",
            "message": "Is ‘grape’ better than ‘apple’ for quick lab snacks?",
            "expected": "Compare fruits; unrelated to hardware.",
            "node_type": "subchat_16",
            "action": "create_subchat",
            "subchat_title": "Nutrition — Lab Snacks",
            "selected_text": "grape"
        },
        {
            "step": 26,
            "context": "quantum",
            "message": "List three real quantum hardware platforms and their pros/cons.",
            "expected": "Superconducting, ion traps, photonics (for example).",
            "node_type": "main",
            "action": ""
        },
        {
            "step": 27,
            "context": "programming",
            "message": "When would you choose Rust over Python in the QC stack?",
            "expected": "Performance-critical kernels, bindings, reliability.",
            "node_type": "main",
            "action": ""
        },
        {
            "step": 28,
            "context": "physics",
            "message": "Explain difference between superposition and mixed states.",
            "expected": "Pure vs mixed states; density matrices.",
            "node_type": "subchat_17",
            "action": "create_subchat",
            "subchat_title": "QC — States & Density Matrices",
            "selected_text": "superposition"
        },
        {
            "step": 29,
            "context": "graph theory",
            "message": "Give a small example of mapping a logical circuit to a sparse hardware graph.",
            "expected": "Placement/routing constraints, SWAPs.",
            "node_type": "subchat_18",
            "action": "create_subchat",
            "subchat_title": "QC — Mapping to Hardware Graphs",
            "selected_text": "hardware graph"
        },
        {
            "step": 30,
            "context": "wrap-up",
            "message": "Summarize the entire conversation as a project plan with branches for each subtopic.",
            "expected": "Tree-like plan referencing each branch succinctly.",
            "node_type": "main",
            "action": ""
        }
    ]
}