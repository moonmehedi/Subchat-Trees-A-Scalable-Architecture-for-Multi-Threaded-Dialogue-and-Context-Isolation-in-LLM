{
  "scenario_name": "ADHD Support & Personal Management",
  "description": "Tests context isolation between general ADHD info and personal ADHD management",
  "tree_type": "main_with_subchats",
  "conversations": [
    {
      "step": 1,
      "action": "send_message",
      "node_type": "main",
      "message": "What is ADHD and how does it affect people?",
      "expected_response_contains": ["ADHD", "attention", "disorder", "affects"]
    },
    {
      "step": 2,
      "action": "send_message",
      "node_type": "main",
      "message": "What are the common symptoms of ADHD in adults?",
      "expected_response_contains": ["symptoms", "inattention", "hyperactivity", "impulsivity"]
    },
    {
      "step": 3,
      "action": "send_message",
      "node_type": "main",
      "message": "What medications are commonly prescribed for ADHD?",
      "expected_response_contains": ["medication", "prescription", "treatment"]
    },
    {
      "step": 4,
      "action": "send_message",
      "node_type": "main",
      "message": "How is ADHD diagnosed by professionals?",
      "expected_response_contains": ["diagnosis", "professional", "assessment"]
    },
    {
      "step": 5,
      "action": "create_subchat",
      "parent_node": "main",
      "subchat_name": "My Personal ADHD",
      "message": "I have ADHD and I struggle with focus while coding. How can I minimize distractions?",
      "expected_response_contains": ["focus", "coding", "distractions", "tips"]
    },
    {
      "step": 6,
      "action": "send_message",
      "node_type": "subchat_1",
      "message": "I find it hard to maintain concentration for more than 20 minutes",
      "expected_response_contains": ["20 minutes", "concentration", "breaks"]
    },
    {
      "step": 7,
      "action": "send_message",
      "node_type": "subchat_1",
      "message": "What time management techniques work best for ADHD developers?",
      "expected_response_contains": ["time management", "Pomodoro", "techniques"]
    },
    {
      "step": 8,
      "action": "send_message",
      "node_type": "subchat_1",
      "message": "Should I work in complete silence or with background music?",
      "expected_response_contains": ["music", "silence", "environment"]
    },
    {
      "step": 9,
      "action": "send_message",
      "node_type": "subchat_1",
      "message": "I also forget to take breaks and end up burnt out",
      "expected_response_contains": ["breaks", "burnout", "rest"]
    },
    {
      "step": 10,
      "action": "switch_to_node",
      "node_type": "main",
      "message": "Are there any non-medication treatments for ADHD?",
      "expected_response_contains": ["non-medication", "therapy", "behavioral"],
      "should_not_contain": ["I have", "my", "20 minutes"]
    },
    {
      "step": 11,
      "action": "send_message",
      "node_type": "main",
      "message": "What did I ask about ADHD medications earlier?",
      "expected_response_contains": ["medications", "prescribed"],
      "should_retrieve": true,
      "expected_retrieval": ["medications are commonly prescribed"],
      "should_not_contain": ["I have ADHD", "coding", "20 minutes"]
    },
    {
      "step": 12,
      "action": "switch_to_node",
      "node_type": "subchat_1",
      "message": "What was my main struggle that I mentioned?",
      "expected_response_contains": ["focus", "coding", "distractions"],
      "should_retrieve": true,
      "expected_retrieval": ["struggle with focus while coding"],
      "should_not_contain": ["medication", "diagnosis"]
    }
  ]
}
