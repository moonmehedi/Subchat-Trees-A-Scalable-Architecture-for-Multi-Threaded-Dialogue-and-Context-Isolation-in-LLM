{
  "scenario_name": "Long Context Multi-Domain Mercury, Rust, Java",
  "description": "Tests ability to maintain context across 30+ steps with 3 highly ambiguous terms (Mercury: planet/element/mythology, Rust: corrosion/programming, Java: island/language/coffee). Baseline will conflate all meanings.",
  "steps": [
    {
      "step": 1,
      "context": "intro",
      "message": "I want to discuss Mercury, Rust, and Java - these terms have multiple meanings",
      "expected": "Mercury (planet, chemical element, Roman god), Rust (corrosion process, programming language), Java (Indonesian island, programming language, coffee type) - all ambiguous terms",
      "node_type": "main",
      "action": "",
      "linear_failure_risk": "none - just establishing context"
    },
    {
      "step": 2,
      "context": "mercury_planet",
      "message": "Tell me about Mercury the planet",
      "expected": "Mercury is the smallest planet and closest to the Sun. No atmosphere, extreme temperature swings from -290°F at night to 800°F during day. Heavily cratered surface. Takes 88 Earth days to orbit Sun",
      "node_type": "subchat_1",
      "action": "create_subchat",
      "selected_text": "Mercury",
      "linear_failure_risk": "low - first subchat"
    },
    {
      "step": 3,
      "context": "mercury_element",
      "message": "Now tell me about Mercury the chemical element",
      "expected": "Mercury (Hg, atomic number 80) is a toxic heavy metal, only metal that's liquid at room temperature. Silver color, used in thermometers, dental amalgam, fluorescent lights. Bioaccumulates in fish",
      "node_type": "subchat_2",
      "action": "create_subchat",
      "selected_text": "Mercury",
      "linear_failure_risk": "moderate - baseline starting to mix planet and element"
    },
    {
      "step": 4,
      "context": "mercury_god",
      "message": "What about Mercury the Roman god?",
      "expected": "Mercury is Roman god of commerce, communication, travelers, thieves. Greek equivalent is Hermes. Depicted with winged sandals and caduceus staff. Son of Jupiter",
      "node_type": "subchat_3",
      "action": "create_subchat",
      "selected_text": "Mercury",
      "linear_failure_risk": "moderate - three Mercury meanings in play"
    },
    {
      "step": 5,
      "context": "rust_corrosion",
      "message": "Explain rust as a corrosion process",
      "expected": "Rust is iron oxide (Fe2O3) formed when iron reacts with oxygen and water. Reddish-brown flaky coating that weakens metal. Prevented by paint, galvanization, stainless steel alloys",
      "node_type": "subchat_4",
      "action": "create_subchat",
      "selected_text": "Rust",
      "linear_failure_risk": "high - baseline buffer at 5 contexts"
    },
    {
      "step": 6,
      "context": "rust_language",
      "message": "Tell me about Rust the programming language",
      "expected": "Rust is a systems programming language focused on safety, speed, concurrency. Memory-safe without garbage collection. Ownership system prevents null pointers and data races. Created by Mozilla, released 2015",
      "node_type": "subchat_5",
      "action": "create_subchat",
      "selected_text": "Rust",
      "linear_failure_risk": "high - baseline mixing corrosion with programming"
    },
    {
      "step": 7,
      "context": "java_island",
      "message": "Describe Java the island",
      "expected": "Java is Indonesia's most populous island, home to Jakarta (capital). 140 million people. Volcanic, fertile soil, produces rice, tea, coffee. Historical kingdoms, Dutch colonial period, independence 1945",
      "node_type": "subchat_6",
      "action": "create_subchat",
      "selected_text": "Java",
      "linear_failure_risk": "critical - 7 subchats, baseline context pollution severe"
    },
    {
      "step": 8,
      "context": "java_language",
      "message": "What is Java the programming language?",
      "expected": "Java is object-oriented programming language by Sun Microsystems (1995). 'Write once, run anywhere' via JVM. Used for Android apps, enterprise software, web applications. Strongly typed, garbage collected",
      "node_type": "subchat_7",
      "action": "create_subchat",
      "selected_text": "Java",
      "linear_failure_risk": "critical - baseline completely mixing all contexts"
    },
    {
      "step": 9,
      "context": "java_coffee",
      "message": "Tell me about Java coffee",
      "expected": "Java coffee from Indonesian island. Arabica beans grown in volcanic soil. Full-bodied, earthy, spicy notes. Dutch introduced coffee cultivation 1600s. 'Cup of java' slang for coffee originated here",
      "node_type": "subchat_8",
      "action": "create_subchat",
      "selected_text": "Java",
      "linear_failure_risk": "catastrophic - 9 subchats, baseline lost all thread separation"
    },
    {
      "step": 10,
      "context": "mercury_planet",
      "message": "What's Mercury's temperature range?",
      "expected": "Mercury ranges from -290°F at night to 800°F during day",
      "node_type": "subchat_1",
      "action": "switch_node",
      "linear_failure_risk": "catastrophic - step 2 planet info now 8 messages back"
    },
    {
      "step": 11,
      "context": "mercury_element",
      "message": "Is Mercury toxic?",
      "expected": "Yes, Mercury (Hg) is highly toxic, bioaccumulates in fish, causes neurological damage",
      "node_type": "subchat_2",
      "action": "switch_node",
      "linear_failure_risk": "catastrophic - baseline will mix planet temperature with element toxicity"
    },
    {
      "step": 12,
      "context": "mercury_god",
      "message": "What does Mercury god carry?",
      "expected": "Caduceus staff and wears winged sandals",
      "node_type": "subchat_3",
      "action": "switch_node",
      "linear_failure_risk": "catastrophic - step 4 god details now 8 messages back"
    },
    {
      "step": 13,
      "context": "rust_corrosion",
      "message": "How do you prevent rust?",
      "expected": "Paint, galvanization, or stainless steel alloys prevent rust corrosion",
      "node_type": "subchat_4",
      "action": "switch_node",
      "linear_failure_risk": "catastrophic - baseline mixing corrosion prevention with programming"
    },
    {
      "step": 14,
      "context": "rust_language",
      "message": "What's Rust's key safety feature?",
      "expected": "Ownership system that prevents null pointers and data races without garbage collection",
      "node_type": "subchat_5",
      "action": "switch_node",
      "linear_failure_risk": "catastrophic - baseline completely lost programming language context"
    },
    {
      "step": 15,
      "context": "java_island",
      "message": "What's Java's population?",
      "expected": "Java island has 140 million people, making it Indonesia's most populous island",
      "node_type": "subchat_6",
      "action": "switch_node",
      "linear_failure_risk": "catastrophic - step 7 island details buried under coffee and programming"
    },
    {
      "step": 16,
      "context": "java_language",
      "message": "What does JVM stand for?",
      "expected": "Java Virtual Machine - enables 'write once, run anywhere'",
      "node_type": "subchat_7",
      "action": "switch_node",
      "linear_failure_risk": "catastrophic - baseline mixing Java language, island, and coffee"
    },
    {
      "step": 17,
      "context": "java_coffee",
      "message": "When did Dutch introduce coffee to Java?",
      "expected": "Dutch introduced coffee cultivation to Java in the 1600s",
      "node_type": "subchat_8",
      "action": "switch_node",
      "linear_failure_risk": "catastrophic - step 9 coffee history completely lost in baseline"
    },
    {
      "step": 18,
      "context": "mercury_planet",
      "message": "How long is Mercury's orbit?",
      "expected": "88 Earth days to orbit the Sun",
      "node_type": "subchat_1",
      "action": "switch_node",
      "linear_failure_risk": "catastrophic - step 2 context 16 messages back, baseline completely lost"
    },
    {
      "step": 19,
      "context": "mercury_element",
      "message": "What's Mercury's atomic number?",
      "expected": "80 (Hg on periodic table)",
      "node_type": "subchat_2",
      "action": "switch_node",
      "linear_failure_risk": "catastrophic - baseline mixing planet orbit with atomic number"
    },
    {
      "step": 20,
      "context": "mercury_god",
      "message": "Who is Mercury's father in mythology?",
      "expected": "Jupiter (Roman king of gods)",
      "node_type": "subchat_3",
      "action": "switch_node",
      "linear_failure_risk": "catastrophic - step 4 mythology now 16 messages back"
    },
    {
      "step": 21,
      "context": "rust_corrosion",
      "message": "What chemical is rust?",
      "expected": "Iron oxide (Fe2O3)",
      "node_type": "subchat_4",
      "action": "switch_node",
      "linear_failure_risk": "catastrophic - baseline completely confused about which Rust"
    },
    {
      "step": 22,
      "context": "rust_language",
      "message": "Who created Rust programming language?",
      "expected": "Mozilla, released 2015",
      "node_type": "subchat_5",
      "action": "switch_node",
      "linear_failure_risk": "catastrophic - step 6 programming details completely evicted from baseline"
    },
    {
      "step": 23,
      "context": "java_island",
      "message": "What's the capital on Java?",
      "expected": "Jakarta",
      "node_type": "subchat_6",
      "action": "switch_node",
      "linear_failure_risk": "catastrophic - baseline mixing island geography with programming and coffee"
    },
    {
      "step": 24,
      "context": "java_language",
      "message": "What company created Java language?",
      "expected": "Sun Microsystems in 1995",
      "node_type": "subchat_7",
      "action": "switch_node",
      "linear_failure_risk": "catastrophic - step 8 programming details lost under 16 messages"
    },
    {
      "step": 25,
      "context": "java_coffee",
      "message": "What type of beans are Java coffee?",
      "expected": "Arabica beans",
      "node_type": "subchat_8",
      "action": "switch_node",
      "linear_failure_risk": "catastrophic - step 9 coffee details completely buried"
    },
    {
      "step": 26,
      "context": "mercury_comparison",
      "message": "Compare all three Mercury meanings",
      "expected": "Mercury planet: closest to Sun, -290°F to 800°F, 88-day orbit. Mercury element: Hg, atomic 80, toxic liquid metal. Mercury god: Roman deity of commerce, son of Jupiter, caduceus and winged sandals",
      "node_type": "subchat_mercury_compare",
      "action": "create_subchat",
      "parent_node_type": "main",
      "selected_text": "Mercury meanings",
      "linear_failure_risk": "catastrophic - requires synthesizing steps 2, 3, 4 which are 24, 23, 22 messages back in baseline"
    },
    {
      "step": 27,
      "context": "rust_comparison",
      "message": "Contrast the two Rust meanings",
      "expected": "Rust corrosion: Fe2O3, reddish-brown iron oxide, prevented by paint/galvanization. Rust programming: Mozilla systems language, memory-safe ownership system, no garbage collection, released 2015",
      "node_type": "subchat_rust_compare",
      "action": "create_subchat",
      "parent_node_type": "main",
      "selected_text": "Rust meanings",
      "linear_failure_risk": "catastrophic - requires synthesizing steps 5, 6 from 22, 21 messages back"
    },
    {
      "step": 28,
      "context": "java_comparison",
      "message": "Distinguish all three Java meanings",
      "expected": "Java island: Indonesia, 140M people, Jakarta capital, volcanic. Java language: Sun 1995, OOP, JVM, Android/enterprise. Java coffee: Arabica, volcanic soil, Dutch 1600s, 'cup of java' slang",
      "node_type": "subchat_java_compare",
      "action": "create_subchat",
      "parent_node_type": "main",
      "selected_text": "Java meanings",
      "linear_failure_risk": "catastrophic - requires synthesizing steps 7, 8, 9 from 21, 20, 19 messages back"
    },
    {
      "step": 29,
      "context": "intro",
      "message": "Which terms have programming language meanings?",
      "expected": "Rust and Java both have programming language meanings. Rust is a systems language (Mozilla 2015), Java is OOP language (Sun 1995)",
      "node_type": "main",
      "action": "switch_node",
      "linear_failure_risk": "catastrophic - requires cross-referencing steps 6 and 8 from deep in baseline buffer"
    },
    {
      "step": 30,
      "context": "intro",
      "message": "Summarize all 9 meanings we discussed",
      "expected": "Mercury: 1) planet (closest to Sun, extreme temps, 88-day orbit), 2) element (Hg, atomic 80, toxic liquid metal), 3) god (Roman commerce deity, Jupiter's son, caduceus). Rust: 4) corrosion (Fe2O3 iron oxide), 5) programming (Mozilla systems language). Java: 6) island (Indonesia, 140M, Jakarta), 7) language (Sun 1995 OOP), 8) coffee (Arabica, volcanic, Dutch 1600s)",
      "node_type": "main",
      "action": "switch_node",
      "linear_failure_risk": "catastrophic - ultimate synthesis of all 9 meanings from steps 2-9, baseline has completely lost ability to separate the contexts after 30 messages"
    }
  ]
}
